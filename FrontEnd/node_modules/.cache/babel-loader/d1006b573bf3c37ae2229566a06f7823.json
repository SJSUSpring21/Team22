{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Checkout\\\\Documents\\\\272\\\\Project\\\\latestPull\\\\Team22\\\\src\\\\components\\\\Predict.jsx\";\nimport React from \"react\";\nimport Select from \"./common/Select\";\nimport RangeSlider from 'react-bootstrap-range-slider';\nimport { Badge } from 'react-bootstrap';\nimport { Alert } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar tier1_outlets = [\"OUT049\", \"OUT046\", \"OUT019\"];\nvar tier2_outlets = [\"OUT045\", \"OUT035\", \"OUT017\"];\nvar tier3_outlets = [\"OUT027\", \"OUT013\", \"OUT018\", \"OUT010\"];\n\nclass Predict extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        outletLocation: \"\",\n        outletIdentifier: \"\",\n        category: \"\",\n        itemNumber: \"\",\n        options: [],\n        items: [],\n        selectedItem: \"\",\n        itemWeight: \"\",\n        itemPrice: \"\",\n        itemFatContent: \"\",\n        itemVisibility: 0\n      }\n    };\n\n    this.handleOutletChangeFetchCategories = async e => {\n      const data = { ...this.state.data\n      };\n      data[e.currentTarget.name] = e.currentTarget.value;\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          outlet: e.currentTarget.value\n        })\n      };\n      let response = await fetch(\"/getcategoryBasedOnOutletIdentifier\", requestOptions);\n      response = await response.json();\n      console.log(\"category\", response.data);\n      data.options = response.data;\n      this.setState({\n        data\n      });\n    };\n\n    this.handleSelectCategory = async e => {\n      const data = { ...this.state.data\n      };\n      data[e.currentTarget.name] = e.currentTarget.value;\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          category: e.currentTarget.value\n        })\n      };\n      let response = await fetch(\"/getitemsBasedOnCategory\", requestOptions);\n      response = await response.json();\n      console.log(response.data);\n      data.items = response.data;\n      this.setState({\n        data\n      });\n    };\n\n    this.handleSelect = e => {\n      const data = { ...this.state.data\n      };\n      data[e.currentTarget.name] = e.currentTarget.value;\n      this.setState({\n        data\n      });\n    };\n\n    this.handleOutletIdentifier = () => {\n      const data = { ...this.state.data\n      };\n\n      if (data.outletLocation === \"Tier 1\") {\n        return tier1_outlets;\n      } else if (data.outletLocation === \"Tier 2\") {\n        return tier2_outlets;\n      } else if (data.outletLocation === \"Tier 3\") {\n        return tier3_outlets;\n      } else {\n        return [...tier1_outlets, ...tier2_outlets, ...tier3_outlets];\n      }\n    };\n\n    this.getItemDetails = async e => {\n      const data = { ...this.state.data\n      };\n      data[e.currentTarget.name] = e.currentTarget.value;\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          itemNumber: e.currentTarget.value\n        })\n      };\n      let response = await fetch(\"/getItemDetails\", requestOptions);\n      response = await response.json();\n      console.log(response.data);\n      data.itemPrice = response.data.Item_MRP;\n      data.itemWeight = response.data.Item_Weight;\n      data.itemFatContent = response.data.Item_Fat_Content;\n      data.itemVisibility = response.data.Item_Visibility;\n      this.setState({\n        data\n      });\n    };\n\n    this.callPredict = async () => {\n      const data = { ...this.state.data\n      };\n      console.log(data);\n      let requestJson = JSON.stringify({\n        itemNumber: data.selectedItem,\n        category: data.category,\n        itemFatContent: data.itemFatContent,\n        itemPrice: parseFloat(data.itemPrice),\n        itemVisibility: parseFloat(data.itemVisibility),\n        itemWeight: parseFloat(data.itemWeight),\n        outletIdentifier: data.outletIdentifier,\n        outletLocation: data.outletLocation\n      });\n      console.log(requestJson);\n      debugger;\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: requestJson\n      };\n      debugger;\n      let response = await fetch(\"/getPrediction\", requestOptions);\n      response = await response.json();\n      console.log(response);\n      this.setState({\n        predictedValue: response.data.value,\n        showPrediction: true\n      });\n    };\n\n    this.handleVisibilityChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        itemVisibility: parseInt(e.target.value)\n      });\n    };\n  }\n\n  render() {\n    const outletTypes = [\"Tier 1\", \"Tier 2\", \"Tier 3\"];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: '5%',\n        paddingBottom: '5%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" row container-fluid col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"primary\",\n                children: \"Tier for Store\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"outletLocation\",\n            value: this.state.data.outletLocation,\n            onChange: this.handleSelect,\n            options: outletTypes,\n            default: \"Select Tier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"primary\",\n                children: \"Outlet Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"outletIdentifier\",\n            value: this.state.data.outletIdentifier,\n            onChange: this.handleOutletChangeFetchCategories,\n            options: this.handleOutletIdentifier(),\n            default: \"Select Outlet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"primary\",\n                children: \"Category of Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 24\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"category\",\n            value: this.state.data.category,\n            onChange: this.handleSelectCategory,\n            options: this.state.data.options,\n            default: \"Select category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" row container-fluid col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"primary\",\n                children: \"  Item Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 24\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"selectedItem\",\n            value: this.state.data.selectedItem,\n            onChange: this.getItemDetails,\n            options: this.state.data.items,\n            default: \"Select Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"primary\",\n              children: \"  Item Weight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 18\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-select my-3\",\n            type: \"number\",\n            placeholder: \"Enter Item Weight\",\n            name: \"itemWeight\",\n            value: this.state.data.itemWeight,\n            onChange: this.handleSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"primary\",\n              children: \"  Item Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 18\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-select my-3\",\n            type: \"number\",\n            placeholder: \"Enter Item Price\",\n            name: \"itemPrice\",\n            value: this.state.data.itemPrice,\n            onChange: this.handleSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slidecontainer\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"1\",\n            step: 0.0001,\n            value: this.state.data.itemVisibility,\n            style: {\n              width: '30%'\n            },\n            className: \"slider\",\n            name: \"itemVisibility\",\n            onChange: this.handleSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"  \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"Enter Item Visibility\",\n              name: \"itemVisibility\",\n              value: this.state.data.itemVisibility,\n              onChange: this.handleSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 18\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row col-12\",\n        style: {\n          paddingLeft: '47%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-lg\",\n          onClick: this.callPredict,\n          children: \" Predict \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row col-12\",\n        style: {\n          paddingLeft: '47%'\n        },\n        children: this.state.data.showPrediction && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          children: [\"Predicted Sales for item \", this.state.selectedItem, \" is \", this.state.predictedValue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Predict;","map":{"version":3,"sources":["C:/Users/Checkout/Documents/272/Project/latestPull/Team22/src/components/Predict.jsx"],"names":["React","Select","RangeSlider","Badge","Alert","tier1_outlets","tier2_outlets","tier3_outlets","Predict","Component","state","data","outletLocation","outletIdentifier","category","itemNumber","options","items","selectedItem","itemWeight","itemPrice","itemFatContent","itemVisibility","handleOutletChangeFetchCategories","e","currentTarget","name","value","requestOptions","method","headers","body","JSON","stringify","outlet","response","fetch","json","console","log","setState","handleSelectCategory","handleSelect","handleOutletIdentifier","getItemDetails","Item_MRP","Item_Weight","Item_Fat_Content","Item_Visibility","callPredict","requestJson","parseFloat","predictedValue","showPrediction","handleVisibilityChange","target","parseInt","render","outletTypes","paddingTop","paddingBottom","width","paddingLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Select from \"./common/Select\";\r\nimport RangeSlider from 'react-bootstrap-range-slider';\r\nimport { Badge } from 'react-bootstrap';\r\nimport {Alert} from 'react-bootstrap';\r\n\r\n\r\n\r\n\r\nvar tier1_outlets = [\"OUT049\", \"OUT046\", \"OUT019\"];\r\nvar tier2_outlets = [\"OUT045\", \"OUT035\", \"OUT017\"];\r\nvar tier3_outlets = [\"OUT027\", \"OUT013\", \"OUT018\", \"OUT010\"];\r\n\r\nclass Predict extends React.Component {\r\n  state = {\r\n    data: {\r\n      outletLocation: \"\",\r\n      outletIdentifier: \"\",\r\n      category: \"\",\r\n      itemNumber: \"\",\r\n      options: [],\r\n      items: [],\r\n      selectedItem: \"\",\r\n      itemWeight: \"\",\r\n      itemPrice: \"\",\r\n      itemFatContent: \"\",\r\n      itemVisibility: 0,\r\n     \r\n    }\r\n  }\r\n  handleOutletChangeFetchCategories = async (e) => {\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ outlet: e.currentTarget.value }),\r\n    };\r\n    let response = await fetch(\r\n      \"/getcategoryBasedOnOutletIdentifier\",\r\n      requestOptions\r\n    );\r\n    response = await response.json();\r\n    console.log(\"category\", response.data);\r\n    data.options = response.data;\r\n    this.setState({ data });\r\n  };\r\n\r\n  handleSelectCategory = async (e) => {\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ category: e.currentTarget.value }),\r\n    };\r\n    let response = await fetch(\r\n      \"/getitemsBasedOnCategory\",\r\n      requestOptions\r\n    );\r\n    response = await response.json();\r\n    console.log(response.data);\r\n    data.items = response.data;\r\n    this.setState({ data });\r\n  };\r\n\r\n\r\n\r\n  handleSelect = (e) => {\r\n\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n    this.setState({ data });\r\n  };\r\n\r\n  handleOutletIdentifier = () => {\r\n    const data = { ...this.state.data };\r\n    if (data.outletLocation === \"Tier 1\") {\r\n      return tier1_outlets;\r\n    } else if (data.outletLocation === \"Tier 2\") {\r\n      return tier2_outlets;\r\n    } else if (data.outletLocation === \"Tier 3\") {\r\n      return tier3_outlets;\r\n    } else {\r\n      return [...tier1_outlets, ...tier2_outlets, ...tier3_outlets];\r\n    }\r\n  };\r\n\r\n  getItemDetails = async (e) => {\r\n    const data = { ...this.state.data };\r\n    data[e.currentTarget.name] = e.currentTarget.value;\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ itemNumber: e.currentTarget.value }),\r\n    };\r\n    let response = await fetch(\r\n      \"/getItemDetails\",\r\n      requestOptions\r\n    );\r\n    response = await response.json();\r\n    console.log(response.data);\r\n    data.itemPrice = response.data.Item_MRP;\r\n    data.itemWeight = response.data.Item_Weight;\r\n    data.itemFatContent = response.data.Item_Fat_Content;\r\n    data.itemVisibility = response.data.Item_Visibility;\r\n    this.setState({ data });\r\n\r\n  }\r\n\r\n  callPredict = async () => {\r\n    const data = { ...this.state.data };\r\n    console.log(data);\r\n    let requestJson = JSON.stringify({\r\n      itemNumber: data.selectedItem,\r\n      category: data.category,\r\n      itemFatContent: data.itemFatContent,\r\n      itemPrice: parseFloat(data.itemPrice),\r\n      itemVisibility: parseFloat(data.itemVisibility),\r\n      itemWeight: parseFloat(data.itemWeight),\r\n      outletIdentifier: data.outletIdentifier,\r\n      outletLocation: data.outletLocation\r\n    });\r\n    console.log(requestJson);\r\n    debugger;\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: requestJson,\r\n    };\r\n    debugger;\r\n\r\n    let response = await fetch(\"/getPrediction\", requestOptions);\r\n    response = await response.json();\r\n\r\n    console.log(response);\r\n    this.setState({\r\n      predictedValue: response.data.value,\r\n      showPrediction: true\r\n    })\r\n\r\n\r\n  }\r\n\r\n  handleVisibilityChange = (e) => {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      itemVisibility: parseInt(e.target.value)\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const outletTypes = [\"Tier 1\", \"Tier 2\", \"Tier 3\"];\r\n    return (\r\n      <div style={{ paddingTop: '5%', paddingBottom: '5%' }}>\r\n        <div className=\" row container-fluid col-12\">\r\n          <div className=\"col-4\">\r\n            <div> <h4><Badge variant=\"primary\">\r\n              Tier for Store\r\n  </Badge> </h4></div>\r\n            <Select\r\n              name=\"outletLocation\"\r\n              value={this.state.data.outletLocation}\r\n              onChange={this.handleSelect}\r\n              options={outletTypes}\r\n              default=\"Select Tier\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <div> <h4><Badge variant=\"primary\">\r\n              Outlet Name\r\n  </Badge></h4></div>\r\n            <Select\r\n              name=\"outletIdentifier\"\r\n              value={this.state.data.outletIdentifier}\r\n              onChange={this.handleOutletChangeFetchCategories}\r\n              options={this.handleOutletIdentifier()}\r\n              default=\"Select Outlet\"\r\n            />\r\n\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <div> <h4> <Badge variant=\"primary\">\r\n              Category of Product\r\n  </Badge> </h4> </div>\r\n            <Select\r\n              name=\"category\"\r\n              value={this.state.data.category}\r\n              onChange={this.handleSelectCategory}\r\n              options={this.state.data.options}\r\n              default=\"Select category\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\" row container-fluid col-12\">\r\n          <div className=\"col-4\">\r\n            <div> <h4> <Badge variant=\"primary\">  Item Number</Badge> </h4></div>\r\n            <Select\r\n              name=\"selectedItem\"\r\n              value={this.state.data.selectedItem}\r\n              onChange={this.getItemDetails}\r\n              options={this.state.data.items}\r\n              default=\"Select Items\" />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <h4> <Badge variant=\"primary\">  Item Weight</Badge> </h4>\r\n            <input className=\"form-select my-3\" type=\"number\" placeholder=\"Enter Item Weight\" name=\"itemWeight\" value={this.state.data.itemWeight} onChange={this.handleSelect} />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <h4> <Badge variant=\"primary\">  Item Price</Badge> </h4>\r\n            <input className=\"form-select my-3\" type=\"number\" placeholder=\"Enter Item Price\" name=\"itemPrice\" value={this.state.data.itemPrice} onChange={this.handleSelect} />\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"row col-12\">\r\n\r\n          <div className=\"slidecontainer\" style={{ width: '100%' }}>\r\n            <input type=\"range\" min=\"0\" max=\"1\" step={0.0001} value={this.state.data.itemVisibility} style={{ width: '30%' }} className=\"slider\" name=\"itemVisibility\" onChange={this.handleSelect} />\r\n            <p>  <input type=\"number\" placeholder=\"Enter Item Visibility\" name=\"itemVisibility\" value={this.state.data.itemVisibility} onChange={this.handleSelect} /> </p>\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        <div className=\"row col-12\" style={{ paddingLeft: '47%' }}>\r\n          <button className=\"btn btn-success btn-lg\" onClick={this.callPredict}> Predict </button>\r\n        </div>\r\n\r\n        <div className=\"row col-12\" style={{ paddingLeft: '47%' }}>\r\n          {this.state.data.showPrediction && <Alert variant='success'>\r\n       Predicted Sales for item {this.state.selectedItem} is {this.state.predictedValue}\r\n  </Alert>}\r\n        \r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Predict;"]},"metadata":{},"sourceType":"module"}